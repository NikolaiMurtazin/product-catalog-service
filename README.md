# Product Catalog Service (–ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å) - –î–ó 3

–í–µ–±-—Å–µ—Ä–≤–∏—Å (REST API) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤.
–ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –±–∞–∑–µ **Java Servlets**, **PostgreSQL** –∏ **AspectJ**.

–ü—Ä–æ–µ–∫—Ç –±—ã–ª —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∏–∑ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–î–ó 2) –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π **Web-—Å–µ—Ä–≤–∏—Å**, –ø—Ä–∏–Ω–∏–º–∞—é—â–∏–π HTTP-–∑–∞–ø—Ä–æ—Å—ã –∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Å JSON.

---

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –§–∏—á–∏ (–î–ó-3)

* **Web-—Å–ª–æ–π (Servlets & REST):**
    * –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **HTTP API**.
    * –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **JSON** (—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ **Jackson**).
    * –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö **HTTP-–º–µ—Ç–æ–¥–æ–≤** (`GET`, `POST`, `PUT`, `DELETE`) –∏ **—Å—Ç–∞—Ç—É—Å-–∫–æ–¥–æ–≤** (`200`, `201`, `400`, `404`, `500`).
    * –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `ProductServlet` –¥–ª—è CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ç–æ–≤–∞—Ä–∞–º–∏.

* **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (DTO & Mapping):**
    * –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏ –ë–î (`Entity`) —Å–∫—Ä—ã—Ç—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.
    * –í–≤–µ–¥–µ–Ω—ã **DTO** (`ProductDto`, `UserDto`) –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö.
    * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **MapStruct** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞–ø–ø–∏–Ω–≥–∞ `Entity` <-> `DTO`.
    * –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–í–∞–ª–∏–¥–∞—Ü–∏—è** –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (`Hibernate Validator`, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ `@NotBlank`, `@Min`).

* **–ê—Å–ø–µ–∫—Ç–Ω–æ-–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (AOP):**
    * –ü–æ–¥–∫–ª—é—á–µ–Ω **AspectJ** (Compile-Time Weaving).
    * **–ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Audit` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–¥–µ–π—Å—Ç–≤–∏—è (—Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –≤—Ö–æ–¥) –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.
    * **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è `@Loggable` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ—Ä—è–µ—Ç –∏ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤ –≤ –∫–æ–Ω—Å–æ–ª—å.

* **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
    * `AppContextListener`: –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–∑–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π Liquibase, —Å–æ–∑–¥–∞–Ω–∏–µ –±–∏–Ω–æ–≤) –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –≤–µ–±-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (Tomcat).
    * `JsonHelper`: –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Jackson ObjectMapper.

---

## üèõ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ë–∞–∑–æ–≤—ã–µ –§–∏—á–∏

* **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
    * `web`: –°–µ—Ä–≤–ª–µ—Ç—ã, DTO, –í–∞–ª–∏–¥–∞—Ü–∏—è, –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫.
    * `service`: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Web –∏ –ë–î).
    * `repository`: JDBC-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è PostgreSQL.
    * `domain`: –°—É—â–Ω–æ—Å—Ç–∏ –ë–î.
    * `aspects`: –°–∫–≤–æ–∑–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–ê—Å–ø–µ–∫—Ç—ã).

* **–†–∞–±–æ—Ç–∞ —Å –ë–î:**
    * **PostgreSQL** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
    * **Liquibase** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ (—Å—Ö–µ–º—ã, —Ç–∞–±–ª–∏—Ü—ã, —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ).
    * **JDBC** (PreparedStatement) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤.
    * –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ `application.properties`.

---

## üõ† –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

* **Java 17**
* **Maven** (—Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞)
* **Jakarta Servlets** (Web-API)
* **Jackson** (JSON –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä)
* **MapStruct** (–ú–∞–ø–ø–∏–Ω–≥ DTO)
* **Hibernate Validator** (–í–∞–ª–∏–¥–∞—Ü–∏—è)
* **AspectJ** (AOP)
* **PostgreSQL** (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
* **Liquibase** (–ú–∏–≥—Ä–∞—Ü–∏–∏)
* **Docker & Testcontainers** (–û–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –¢–µ—Å—Ç—ã)
* **Lombok**

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–∫—Ä—É–∂–µ–Ω–∏—é

1.  **Java 17+**
2.  **Maven 3.8+**
3.  **Docker Desktop** (–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –∏ –ë–î)

---

## üèÉ‚Äç‚ôÇÔ∏è –°–±–æ—Ä–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### 1. –°–±–æ—Ä–∫–∞ WAR-–∞—Ä—Ö–∏–≤–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ `.war` —Ñ–∞–π–ª, –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –¥–µ–ø–ª–æ—è –≤ **Tomcat** (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π Servlet-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä).

```bash
mvn clean package
```

### 2. –ó–∞–ø—É—Å–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–≤ Docker)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞. –≠—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑**.
*(–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω)*

```bash
  docker-compose up -d 
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–¥–Ω–∏–º–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `postgres` —Å –±–∞–∑–æ–π `marketplace_db` –Ω–∞ –ø–æ—Ä—Ç—É `5433`.

---

## üß™ –ó–∞–ø—É—Å–∫ –¢–µ—Å—Ç–æ–≤

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ **–Ω–µ –Ω—É–∂–Ω–æ** –≤—ã–ø–æ–ª–Ω—è—Ç—å `docker-compose up`. Testcontainers **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–æ–¥–Ω–∏–º–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é 
–≤—Ä–µ–º–µ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

*(–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω)*

```bash
   mvn clean test
```